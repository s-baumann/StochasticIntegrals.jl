<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>StochasticIntegrals · StochasticIntegrals</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">StochasticIntegrals</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>StochasticIntegrals</a><ul class="internal"><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Data-conversions"><span>Data conversions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>StochasticIntegrals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>StochasticIntegrals</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/s-baumann/StochasticIntegrals.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="StochasticIntegrals"><a class="docs-heading-anchor" href="#StochasticIntegrals">StochasticIntegrals</a><a id="StochasticIntegrals-1"></a><a class="docs-heading-anchor-permalink" href="#StochasticIntegrals" title="Permalink"></a></h1><p>This generates covariance matrices and Cholesky decompositions for a set of stochastic integrals. At the moment it only supports Ito integrals. Users specify the <a href="https://github.com/s-baumann/MultivariateFunctions.jl">MultivariateFunction</a> that is the integrand of the Ito integral and a covariance matrix will be made of all such Ito integrals.</p><p>There are a large number of convenience functions. This includes finding the variance and instantaneous volatility of an ito integral; for extracting the terminal correlation &amp; covariance of a pair of stochastic integrals over a period of time; for generation of random draws from the set of Ito integrals (either pseudorandom or quasirandom). Given a draw of stochastic integrals, it is also possible to find the density of the multivariate normal distribution at this point. See the testing files for code examples.</p><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>Consider that we have three different stochastic integrals. These are:</p><p>$ \int t^2 dZ $</p><p>$ \int 5t dZ $</p><p>$ \int e^{5 - t} dW $</p><p>Where Z and W are Brownian Motions.</p><p>We first write the integrands as multivariate functions:</p><pre><code class="language-none">using StochasticIntegrals
using MultivariateFunctions
A_integrand = PE_Function(1.0,0.0,0.0,2)
B_integrand = PE_Function(5.0,0.0,0.0,1)
C_integrand = PE_Function(1.0,-1.0,5.0,0)</code></pre><p>Then we get the correlation matrix of the two Brownian motions that we have. For simplicity lets consider the case that they are uncorrelated. We also specify the labels for these Brownian motions. In this case they will identify that the first row/column of the correlation matrix is for the :Z process and the second is for the :W process.</p><pre><code class="language-none">using LinearAlgebra
brownian_correlation_matrix = Hermitian(diagm(0 =&gt; ones(2)))
brownian_ids = [:Z, :W]</code></pre><p>Now we package the integrands of our stochastic integrals together with their corresponding Brownian motion ids to represent an Ito integral. We must also specify a new id for the stochastic integral to ensure that we know what row/column of the covariance matrix we create represents which integral.</p><pre><code class="language-none">A  = ItoIntegral(:Z, A_integrand)
B  = ItoIntegral(:Z, B_integrand)
C  = ItoIntegral(:W, C_integrand)
ito_integrals = Dict{Symbol,ItoIntegral}([:A, :B, :C] .=&gt; [A, B, C])</code></pre><p>Now we can place the Ito integrals together with the brownian motion correlation matrix to make an ItoSet.</p><pre><code class="language-none">ito_set = ItoSet(brownian_correlation_matrix, brownian_ids, ito_integrals)</code></pre><p>In this format we can access the volatility of any of the Ito integrals at any point. We would usually be more interested in the statistical properties of the Ito integrals at a point forward in time. This can be done by generating a ForwardCovariance object. We must first specify the start and end limits on each integral. Below we look at the integrals  between 0.0 and 2.0. More generally time can be specified in Dates format. See testing files for more examples.</p><pre><code class="language-none">covar = ForwardCovariance(ito_set, 0.0, 2.0)</code></pre><p>All of the hard work is done inside the above constructor. In particular a covariance matrix is generated as well as its inverse, Cholesky decomposition and determinant. These can be accessed directly in the normal way. Alternatively there are methods that can be called on a covar object to extract a correlation, covariance, variance or volatility using the stochastic integral ids. For instance to get the covariance between integrals A and B:</p><pre><code class="language-none">covariance_of_A_and_B = get_covariance(covar, :A, :B)</code></pre><p>It is also possible to generate random numbers using either the get_normal_draws or get_sobol_normal_draws functions. For instance to get 10 pseudorandom realisations of these integrals:</p><pre><code class="language-none">draws = get_normal_draws(covar, 10)</code></pre><p>For ascertaining the probability of the integrals jointing reaching some set of values there are the pdf and log_likelihood methods. For instance to find the log likelihood of the first draw we obtained above:</p><pre><code class="language-none">log_likelihood(covar, draws[1])</code></pre><p>See the testing files for more code examples.</p><h2 id="Data-conversions"><a class="docs-heading-anchor" href="#Data-conversions">Data conversions</a><a id="Data-conversions-1"></a><a class="docs-heading-anchor-permalink" href="#Data-conversions" title="Permalink"></a></h2><p>StochasticIntegrals generates draws from stochastic integrals and places them into an array of dicts. Sometimes it is easier to use data in an array or in a dataframe. The to_draws, to_dataframe and to_array functions are convenience functions that convert datastructures between draws (Array{Dict{Symbol,Float64},1}), dataframes and arrays.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 10 October 2020 18:09">Saturday 10 October 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
